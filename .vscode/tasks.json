{
  "version": "2.0.0",
  "tasks":[

  {
    "label": "App + DB: build and run",
    "type": "shell",
    "command": "docker rm -f rev_analyzer; docker rm -f rev_analyzer_db; docker rm -f rev_analyzer_ollama; docker compose up --force-recreate --build",
    "options": {
      "env": {
        "DOCKER_BUILDKIT": "1",
        "DOCKER_DEFAULT_PLATFORM": "linux/amd64"
      }
    },

  },


  {
    "label": "Only app: build and run",
    "type": "shell",

    "command": "docker rm -f rev_analyzer; docker rm -f rev_analyzer_db; docker compose up --force-recreate --build rev_analyzer -e MONGO_CONNECTION=$MONGO",
    "options": {
      "env": {
        "DOCKER_BUILDKIT": "1",
        "DOCKER_DEFAULT_PLATFORM": "linux/amd64",
        // provide external DB address here:
        "MONGO": "mongodb://192.168.1.100:27017/"
      }
    }
  }
]
}
